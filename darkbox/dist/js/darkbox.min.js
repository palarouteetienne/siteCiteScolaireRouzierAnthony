"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/**
 * Darkbox v1.0.6
 * by WhoMeNope
 *
 * More info:
 * https://github.com/WhoMeNope/darkbox.js
 *
 * @license
 * Released under the MIT license
 * https://github.com/WhoMeNope/darkbox.js/blob/master/LICENSE
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:window.darkbox=t(window.jQuery)}(function(t){function e(){var o=this;e.prototype.build=function(){t('<div id="darkboxOverlay"></div><div id="darkbox"></div><div id="darkbox-left"><img src="./darkbox/assets/darkbox/left.svg" alt=""/></div><div id="darkbox-right"><img src="./darkbox/assets/darkbox/right.svg" alt=""/></div><div id="darkbox-cancel"><img src="./darkbox/assets/darkbox/close.svg" alt=""/></div><div id="darkbox-title"><h1 id="darkboxTitleText"></h1></div><div id="darkbox-progress"><div></div></div>').appendTo(t("body"))},e.prototype.start=function(t,e,o){new i(t,e,o)},t(document).ready(function(){o.build()})}function i(e,i,o){if(this.options=t.extend({},this.constructor.defaults),this.setOptions(o),this.images=i,this.$overlay=t("#darkboxOverlay"),this.$darkbox=t("#darkbox"),this.$darkboxLeft=t("#darkbox-left"),this.$darkboxRight=t("#darkbox-right"),this.$darkboxCancel=t("#darkbox-cancel"),this.$darkboxTitle=t("#darkbox-title"),this.$darkboxProgress=t("#darkbox-progress"),this.$darkboxTitleText=t("#darkboxTitleText"),this.$clonnedNode=null,this.options.startWithCurrent){var s=e.attr("src");if(Array.isArray(this.images)||(this.images=[]),0==this.images.length||s!==this.images[0]){var a=0;for(var r in this.images)r==s&&this.images.splice(a,1),a++;this.images.unshift(s)}}this.currentImageIndex=0,this.preloadNeighboringImages(),this.setProgress(),this.images.length>0&&this.start(e)}i.defaults={startWithCurrent:!0,wrapAround:!1,showProgressBar:!0,showTitle:!1,disablePageScrolling:!0,endCallback:null},i.prototype.setOptions=function(e){t.extend(this.options,e)},i.prototype.start=function(e){var i=this;this.options.disablePageScrolling&&t("body").addClass("db-disable-scrolling"),this.$darkbox.empty();var o=e.clone(!1);t(o).attr("src",this.images[0]),t(o).css("position","absolute"),t(o).css("width",e.width()+"px"),t(o).css("height",e.height()+"px");var s=e.parent().offset();t(o).css("left",s.left+"px"),t(o).css("top",s.top+"px"),t(o).appendTo(this.$darkbox),this.$clonnedNode=o,this.$darkbox.show(),this.$overlay.addClass("show"),this.$overlay.addClass("fill"),this.images.length>1&&(this.$darkboxLeft.show(),this.$darkboxRight.show()),this.$darkboxCancel.show(),this.options.showTitle&&this.$darkboxTitle.show(),this.options.showProgressBar&&this.$darkboxProgress.show(),t(this.$darkboxTitleText).text("Image "+(this.currentImageIndex+1)+" of "+this.images.length),setTimeout(function(){i.images.length>1&&(i.$darkboxLeft.addClass("show"),i.$darkboxRight.addClass("show")),i.$darkboxCancel.addClass("show"),i.options.showTitle&&i.$darkboxTitle.addClass("show")},400),t(this.$clonnedNode).addClass("straight"),t(this.$clonnedNode).animate({left:(t(window).width()-e.width())/2,top:(t(window).height()-e.height())/2},400,"swing",function(){t(i.$clonnedNode).addClass("scale"),i.enableKeyboardNav(),t(i.$darkboxLeft).on("click",function(){i.previousImage()}),t(i.$darkboxRight).on("click",function(){i.nextImage()}),t(i.$darkboxCancel).on("click",function(){i.end()})})},i.prototype.setProgress=function(){if(this.images.length<2)t(this.$darkboxProgress).find("div").css("left","0");else{var e=1-(this.images.length-this.currentImageIndex-1)/(this.images.length-1);t(this.$darkboxProgress).find("div").css("left",(100*e).toFixed(2)+"%")}},i.prototype.previousImage=function(){0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.images.length>1&&this.changeImage(this.images.length-1)},i.prototype.nextImage=function(){this.currentImageIndex!==this.images.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.images.length>1&&this.changeImage(0)},i.prototype.changeImage=function(e){var i=this;if(!this.disabledControls){this.disabledControls=!0,this.currentImageIndex=e,this.preloadNeighboringImages(),this.setProgress(),t(this.$darkboxTitleText).text("Image "+(e+1)+" of "+this.images.length);var o=new Image;o.onload=function(){t(i.$clonnedNode).attr("src",o.src),i.disabledControls=!1},o.src=this.images[e]}},i.prototype.preloadNeighboringImages=function(){if(this.images.length>this.currentImageIndex+1){(new Image).src=this.images[this.currentImageIndex+1]}if(this.currentImageIndex>0){(new Image).src=this.images[this.currentImageIndex-1]}},i.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},i.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},i.prototype.keyboardAction=function(t){var e=t.keyCode,i=String.fromCharCode(e).toLowerCase();27===e||i.match(/x|o|c/)?this.end():"p"===i||37===e?this.previousImage():"n"!==i&&39!==e||this.nextImage()},i.prototype.end=function(){var e=this;this.disableKeyboardNav(),t(this.$darkboxLeft).off("click"),t(this.$darkboxRight).off("click"),t(this.$darkboxCancel).off("click"),this.$darkboxLeft.removeClass("show"),this.$darkboxRight.removeClass("show"),this.$darkboxCancel.removeClass("show"),this.$darkboxTitle.removeClass("show"),this.$darkboxProgress.hide(),t(this.$clonnedNode).animate({opacity:0},300,"swing",function(){e.$darkbox.hide(),e.$darkboxLeft.hide(),e.$darkboxRight.hide(),e.$darkboxCancel.hide(),e.$darkboxTitle.hide()}),this.$overlay.removeClass("fill"),setTimeout(function(){e.$overlay.removeClass("show"),t("body").removeClass("db-disable-scrolling")},600);var i=this.options.endCallback;i&&null!=i&&"function"==typeof i&&setTimeout(function(){e.options.endCallback()},200)};var o=new e;return t.fn.darkbox=function(t,e){o.start(this,t,e)},o});